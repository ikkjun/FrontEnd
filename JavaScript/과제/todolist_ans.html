<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <!-- 1. UI르ㄹ 먼저 만든다. -->
  <input type = "text">
  <button>추가</button>
  <ul id = "todolist">
  </ul>
  <script>
    var arr = ['식사', '공부', '유튜브 시청']
    // main()이라 생각하고 작성
    window.onload = function() {// document의 로딩이 끝나면 자동 호출
      // 1. 접근
      var itemArr = document.getElementsByTagName("li");
      var todolist = document.getElementById("todolist");
      var button = document.getElementsByTagName("button");

      // 2. 이벤트 등록
      button.onclick = addArr;
      todolist.onclick = itemRemove;
      // for(let i=0;i<itemArr.length;i++) {
      //   itemArr[i].onclick = itemRemove;
      // }

      // 3. li 추가
      makeList();
    }


    // 버튼 클릭하면 배열에 추가
    function addArr() {
      
    }

    // 배열의 내용을 <li>로 만들어서 <ul>에 추가
    function makeList() {
      let tmp = '';
      for(let i=0;i<arr.length;i++) {
        tmp += `<li>${arr[i]}</li>`;
      }
      // ul에 추가
      todolist.innerHTML = tmp;
    }

    // 클릭한 item을 삭제
    function itemRemove(e) {
      // alert("remove");
      console.dir(e);
      // alert(e.target.textContent);
      let value = e.target.textContent;

      // 배열에서 value를 삭제
      removeItem(value);

      // 변경된 내용을 화면에 보이기
      makeList();
    }
    
    // 배열 arr에서 value를 삭제
    function removeItem(value) {
      let index = arr.indexOf(value);
      arr.splice(index, 1);
    }
  </script>
</body>
</html>