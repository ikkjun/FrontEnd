<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hobby</title>
</head>
<body>
  <input type="checkbox" name="" id="whole" value="전체">전체<br>
  <input type="checkbox" name="hobby" id="basket" value="농구">농구<br>
  <input type="checkbox" name="hobby" id="volley" value="배구">배구<br>
  <input type="checkbox" name="hobby" id="soccer" value="축구">축구<br>
  <input type="checkbox" name="hobby" id="baseball" value="야구">야구<br>
  <textarea name="" id="text" cols="30" rows="10"></textarea>
  <script>
    /* input type: checkbox value = 농구
        전체
        농구
        배구
        축구
        야구 

        <text area> 
        농구, 배구 ...
      */ 
      window.onload = function() {
          var whole = document.getElementById('whole');
          var hobby = document.getElementsByName('hobby');
          var text = document.getElementById('text');
    
          var hobbies = [];
          // 전체 체크하면 모두 체크되게 하기
          whole.onclick = function() {
            for(i=0;i<hobby.length;i++) {
              if(whole.checked) {
                  hobby[i].checked = true;
                  hobbies.push(hobby[i].value);
              } else {
                  hobby[i].checked = false;
                  hobbies.pop(hobby[i].value);
                }
            }
            text.innerHTML = hobbies.join(', ');
          }
    
          // 개별 체크하면 배열에 넣기
          for (var i = 0; i < hobby.length; i++) {
            hobby[i].onclick = function() {
              if (this.checked) {
                hobbies.push(this.value);
              } else {
                var index = hobbies.indexOf(this.value);
                hobbies.splice(index, 1);
              }
              // textarea 업데이트
              text.innerHTML = hobbies.join(", ");
            };
          }
          // textarea에 출력
          
          // 체크 해제하면 배열에서 제거
        }
  </script>
</body>
</html>